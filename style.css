@import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap');

body{font-family:'M PLUS Rounded 1c',sans-serif;background-color:#f0f2f5;color:#333;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;transition:background .5s ease;background-size:cover;background-position:center;background-attachment:fixed;overflow:hidden}
.container{--container-bg:#fff;--text-color:#333;--header-color:#1a73e8;--upload-area-bg:#fafafa;--upload-area-border:#ccc;background-color:var(--container-bg);color:var(--text-color);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1);padding:2rem;width:90%;max-width:500px;text-align:center;transition:background-color .5s ease,color .5s ease,backdrop-filter .5s ease;padding-bottom:80px}
.container.bg-image-mode{background-color:rgba(255,255,255,.7);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}
header{margin-bottom:1.5rem;display:flex;flex-direction:column;align-items:center}
#event-name{font-size:2rem;color:var(--header-color);margin-top:15px;white-space:nowrap;transition:font-family .5s ease}
#description{transition:font-family .5s ease}
#event-logo{max-width:300px;max-height:150px;background-color:#fff;border-radius:8px}

/* ★★ここからが修正点です★★ */
.upload-area{margin:1.5rem 0;padding:1rem;border:2px dashed var(--upload-area-border);border-radius:8px;background-color:var(--upload-area-bg);transition:background-color .5s ease,border-color .5s ease;display:flex;align-items:flex-start;gap:20px}
.upload-area.bg-image-mode{background-color:rgba(255,255,255,.5)!important;border-color:rgba(255,255,255,.7)!important}
.upload-control{flex:1;text-align:center}
.color-control{display:flex;flex-direction:column;align-items:center;gap:8px}
.color-label{font-size:.9rem;font-weight:700;color:#555}
#skin-color-picker{width:60px;height:60px;border:2px solid #ddd;border-radius:8px;cursor:pointer;padding:4px;background-color:#fff}
#file-name{margin-top:.5rem;font-size:.9rem;min-height:1.2em}
/* ★★ここまでが修正点です★★ */

.upload-button{background-color:#1a73e8;color:#fff;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:1rem;font-weight:700;transition:background-color .3s;display:inline-block}
.upload-button:hover{background-color:#155ab6}
input[type=file]{display:none}
#preview-area{margin-top:2rem;overflow:hidden;max-height:0;opacity:0;transition:max-height .8s ease-out,opacity .5s ease-in .2s}
#preview-area.visible{max-height:500px;opacity:1}
#preview-canvas{width:160px;height:320px;image-rendering:pixelated;border:1px solid #ddd;border-radius:4px;background-color:#f7f7f7;background-image:linear-gradient(45deg,#eee 25%,transparent 25%),linear-gradient(-45deg,#eee 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#eee 75%),linear-gradient(-45deg,transparent 75%,#eee 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0;opacity:0;transition:opacity .7s ease-in}
#preview-canvas.visible{opacity:1}
.download-button{display:block;background-color:#28a745;color:#fff;padding:12px 24px;margin:1rem auto 0;border-radius:8px;text-decoration:none;font-weight:700;font-size:1rem;width:fit-content;opacity:0;transform:translateY(20px);transition:opacity .6s ease,transform .6s ease}
.download-button.visible{opacity:1;transform:translateY(0)}
.download-button:hover{background-color:#218838}
.error{color:#dc3545;margin-top:1rem;font-weight:700}
footer{position:fixed;bottom:10px;width:100%;text-align:center;font-size:.8rem;color:#999}
#loading-screen{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:9999}
#loading-gate-top,#loading-gate-bottom{position:fixed;left:0;width:100%;height:50vh;background-color:#fff;transition:transform .8s cubic-bezier(.86,0,.07,1);display:flex;justify-content:center;overflow:hidden}
#loading-gate-top{top:0;align-items:flex-end}
#loading-gate-bottom{bottom:0;align-items:flex-start;z-index:1}
#loading-screen.gate-open #loading-gate-top{transform:translateY(-100%)}
#loading-screen.gate-open #loading-gate-bottom{transform:translateY(100%)}
.loading-content{color:#888;text-align:center;width:300px}
.loading-content.top{margin-bottom:20px}
.loading-content.bottom{margin-top:-40px}
.progress-container{width:100%;position:relative}
#progress-percent{display:block;font-size:1.5rem;font-weight:700;margin-bottom:8px;transition:opacity .3s ease}
.progress-bar-background{width:100%;height:10px;background-color:#e0e0e0;border-radius:5px;overflow:hidden}
#progress-bar{width:0%;height:100%;background-color:#888;border-radius:5px}
#loading-text{font-size:3rem;font-weight:700;opacity:0;visibility:hidden}
#loading-screen.loaded #progress-percent{opacity:0}
#loading-screen.loaded #loading-text{visibility:visible;animation:drop-down .6s cubic-bezier(.76,0,.24,1) forwards}
@keyframes drop-down{0%{transform:translateY(-100%);opacity:0}100%{transform:translateY(0);opacity:1}}
#lock-screen{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7);backdrop-filter:blur(5px);z-index:10000;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .5s ease}
#lock-screen.visible{opacity:1}
.lock-container{background-color:#fff;padding:2rem 3rem;border-radius:12px;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,.3)}
.lock-container h2{margin-top:0}
#key-input{width:100%;padding:10px;margin:1rem 0;border:1px solid #ccc;border-radius:6px;font-size:1rem;text-align:center}
#unlock-button{background-color:#1a73e8;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:1rem;font-weight:700;transition:background-color .3s}
#unlock-button:hover{background-color:#155ab6}
#lock-error-message{min-height:1.2em}
#lock-icon-area{margin-bottom:1rem;font-size:3rem;color:#888}
#lock-icon.fa-lock-open{color:#28a745;animation:unlock-shake .5s ease-in-out}
@keyframes unlock-shake{0%,100%{transform:rotate(0)}25%{transform:rotate(-10deg)}75%{transform:rotate(10deg)}}
#white-fade-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;z-index:10002;opacity:0;visibility:hidden;transition:opacity .5s ease-in-out}
#white-fade-overlay.visible{opacity:1;visibility:visible}
