<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasySkinMixer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="lock-screen" style="display: none;">
        <div class="lock-container">
            <div id="lock-icon-area">
                <i id="lock-icon" class="fas fa-lock"></i>
            </div>
            <h2>認証が必要です</h2>
            <p>暗号キーを入力してください</p>
            <input type="text" id="key-input" placeholder="例: CS-XXXX-XXXX-XXXX">
            <button id="unlock-button">認証</button>
            <p id="lock-error-message" class="error"></p>
        </div>
    </div>
    
    <div id="white-fade-overlay"></div>

    <div id="loading-screen" style="display: none;">
        <div id="loading-gate-top">
            <div class="loading-content top">
                <div class="progress-container">
                    <span id="progress-percent">0%</span>
                    <div class="progress-bar-background">
                        <div id="progress-bar"></div>
                    </div>
                </div>
            </div>
        </div>
        <div id="loading-gate-bottom">
            <div class="loading-content bottom">
                 <h2 id="loading-text">Enjoy your skin life!</h2>
            </div>
        </div>
    </div>

    <div class="container" style="visibility: hidden;">
        <header>
            <img id="event-logo" src="" alt="企画ロゴ" style="display: none;">
            <h1 id="event-name">EasySkinMixer</h1>
        </header>
        <div id="mixer-ui">
            <p id="description">下のボタンからあなたのスキンをアップロードして、限定スキンと合成しよう！</p>
            <div class="upload-area">
                <label for="user-skin-upload" class="upload-button">
                    自分のスキンを選択
                    <input type="file" id="user-skin-upload" accept="image/png">
                </label>
                <p id="file-name">ファイルが選択されていません</p>
            </div>
            <div id="preview-area" style="display: none;">
                <h2>プレビュー</h2>
                <canvas id="preview-canvas"></canvas>
                <canvas id="skin-canvas" width="64" height="64" style="display: none;"></canvas>
                <a id="download-button" class="download-button" href="#" download="mixed_skin.png">ダウンロード</a>
            </div>
            <div id="error-message" class="error"></div>
        </div>
        <div id="loading-message" style="display: none;">
            <p>企画スキンを読み込んでいます...</p>
        </div>
    </div>

    <footer>
        <p>Created by Shake</p>
        <p>Powered by EasySkinMixer</p>
    </footer>

    <script src="config.js"></script>
    <script src="main.js"></script>
</body>
</html>
